# LifeRPG å¼€å‘æŒ‡å—

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®å‘½ä»¤](#é¡¹ç›®å‘½ä»¤)
- [æ ¸å¿ƒæ¶æ„](#æ ¸å¿ƒæ¶æ„)
- [ç»„ä»¶å¼€å‘](#ç»„ä»¶å¼€å‘)
- [çŠ¶æ€ç®¡ç†](#çŠ¶æ€ç®¡ç†)
- [æ ·å¼ç³»ç»Ÿ](#æ ·å¼ç³»ç»Ÿ)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [è°ƒè¯•æŠ€å·§](#è°ƒè¯•æŠ€å·§)

---

## é¡¹ç›®å‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
npm install

# å¼€å‘æ¨¡å¼ï¼ˆçƒ­é‡è½½ï¼‰
npm run dev

# ç”Ÿäº§æ„å»º
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm run start

# ä»£ç æ£€æŸ¥
npm run lint
```

---

## æ ¸å¿ƒæ¶æ„

### 1. æ•°æ®æµ

```
User Action (ç‚¹å‡»å®Œæˆä»»åŠ¡)
    â†“
QuestCard Component (è§¦å‘ completeQuest)
    â†“
Zustand Store (æ›´æ–°çŠ¶æ€)
    â†“
React Re-render (æ›´æ–°æ‰€æœ‰è®¢é˜…ç»„ä»¶)
    â†“
UI Update (HUDã€é›·è¾¾å›¾åŒæ­¥æ›´æ–°)
```

### 2. æ–‡ä»¶å…³ç³»

```
page.tsx (ä¸»é¡µé¢)
â”œâ”€â”€ ParticleBackground.tsx (ç²’å­èƒŒæ™¯å±‚)
â”œâ”€â”€ Navigation.tsx (ä¾§è¾¹å¯¼èˆª)
â”œâ”€â”€ HUD.tsx (ä»ªè¡¨ç›˜)
â”‚   â””â”€â”€ useGameStore (è¯»å– level, exp, coins)
â”œâ”€â”€ AttributeRadar.tsx (é›·è¾¾å›¾)
â”‚   â””â”€â”€ useGameStore (è¯»å– attributes)
â””â”€â”€ QuestLog.tsx (ä»»åŠ¡æ—¥å¿—)
    â”œâ”€â”€ useGameStore (è¯»å– quests, addQuest)
    â””â”€â”€ QuestCard.tsx (å•ä¸ªä»»åŠ¡)
        â””â”€â”€ useGameStore (è°ƒç”¨ completeQuest, deleteQuest)
```

---

## ç»„ä»¶å¼€å‘

### åˆ›å»ºæ–°ç»„ä»¶çš„æ­¥éª¤

1. **åœ¨ `src/components/` åˆ›å»ºæ–‡ä»¶**

```typescript
// src/components/MyComponent.tsx
'use client'; // å¦‚æœéœ€è¦å®¢æˆ·ç«¯äº¤äº’

import { motion } from 'framer-motion';
import { useGameStore } from '@/store/gameStore';

export default function MyComponent() {
  const myData = useGameStore((state) => state.myData);

  return (
    <motion.div
      initial={{ opacity: 0 }}
      animate={{ opacity: 1 }}
      className="glass-card p-6"
    >
      {/* ä½ çš„å†…å®¹ */}
    </motion.div>
  );
}
```

2. **åœ¨ `page.tsx` ä¸­å¼•å…¥**

```typescript
import MyComponent from '@/components/MyComponent';

export default function Home() {
  return (
    <div>
      <MyComponent />
    </div>
  );
}
```

### ç»„ä»¶è®¾è®¡åŸåˆ™

- âœ… **å•ä¸€èŒè´£**ï¼šæ¯ä¸ªç»„ä»¶åªåšä¸€ä»¶äº‹
- âœ… **Props ç±»å‹åŒ–**ï¼šä½¿ç”¨ TypeScript æ¥å£
- âœ… **å¯å¤ç”¨**ï¼šé¿å…ç¡¬ç¼–ç ï¼Œä½¿ç”¨ props
- âœ… **æ€§èƒ½ä¼˜åŒ–**ï¼šä½¿ç”¨ `useMemo`ã€`useCallback`

---

## çŠ¶æ€ç®¡ç†

### Zustand Store ä½¿ç”¨

#### è¯»å–çŠ¶æ€

```typescript
// å•ä¸ªå­—æ®µï¼ˆæ¨è - ä»…åœ¨è¯¥å­—æ®µå˜åŒ–æ—¶é‡æ¸²æŸ“ï¼‰
const level = useGameStore((state) => state.level);

// å¤šä¸ªå­—æ®µ
const { level, exp, coins } = useGameStore((state) => ({
  level: state.level,
  exp: state.currentExp,
  coins: state.coins,
}));

// æ•´ä¸ªçŠ¶æ€ï¼ˆä¸æ¨è - ä»»ä½•å˜åŒ–éƒ½ä¼šé‡æ¸²æŸ“ï¼‰
const gameState = useGameStore();
```

#### è°ƒç”¨ Actions

```typescript
const addQuest = useGameStore((state) => state.addQuest);
const completeQuest = useGameStore((state) => state.completeQuest);

// ä½¿ç”¨
addQuest({
  title: 'æ–°ä»»åŠ¡',
  type: QuestType.DAILY,
  attribute: 'int',
  expReward: 20,
  coinReward: 10,
});

completeQuest('quest-id-123');
```

### æ·»åŠ æ–°çš„çŠ¶æ€

1. **åœ¨ `src/types/game.ts` ä¸­å®šä¹‰ç±»å‹**

```typescript
export interface GameState {
  // ... ç°æœ‰å­—æ®µ
  newField: number;
}

export interface GameActions {
  // ... ç°æœ‰æ–¹æ³•
  updateNewField: (value: number) => void;
}
```

2. **åœ¨ `src/store/gameStore.ts` ä¸­å®ç°**

```typescript
export const useGameStore = create<GameStore>()(
  persist(
    (set, get) => ({
      // åˆå§‹çŠ¶æ€
      newField: 0,

      // Action
      updateNewField: (value: number) => {
        set({ newField: value });
      },
    }),
    { name: 'liferpg-storage' }
  )
);
```

---

## æ ·å¼ç³»ç»Ÿ

### Tailwind è‡ªå®šä¹‰ç±»

åœ¨ `src/app/globals.css` ä¸­å®šä¹‰ï¼š

```css
@layer utilities {
  .my-custom-class {
    @apply bg-gradient-to-r from-cyber-cyan to-cyber-purple;
  }
}
```

### Glassmorphism æ•ˆæœ

```tsx
<div className="glass-card p-6">
  {/* å†…å®¹ */}
</div>
```

ç­‰ä»·äºï¼š

```css
.glass-card {
  background: rgba(255, 255, 255, 0.05);
  backdrop-filter: blur(20px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.1);
  border-radius: 1rem;
}
```

### Framer Motion åŠ¨ç”»

#### æ·¡å…¥åŠ¨ç”»

```tsx
<motion.div
  initial={{ opacity: 0 }}
  animate={{ opacity: 1 }}
  transition={{ duration: 0.5 }}
>
  {/* å†…å®¹ */}
</motion.div>
```

#### æ»‘å…¥åŠ¨ç”»

```tsx
<motion.div
  initial={{ x: -20, opacity: 0 }}
  animate={{ x: 0, opacity: 1 }}
  transition={{ delay: 0.2 }}
>
  {/* å†…å®¹ */}
</motion.div>
```

#### æ‚¬åœæ•ˆæœ

```tsx
<motion.button
  whileHover={{ scale: 1.05 }}
  whileTap={{ scale: 0.95 }}
>
  ç‚¹å‡»æˆ‘
</motion.button>
```

---

## æ€§èƒ½ä¼˜åŒ–

### 1. ç²’å­ç³»ç»Ÿä¼˜åŒ–

```typescript
// âœ… ä½¿ç”¨ InstancedMesh
<instancedMesh args={[undefined, undefined, 5000]}>
  <sphereGeometry args={[0.08, 8, 8]} />
  <meshBasicMaterial />
</instancedMesh>

// âŒ é¿å…ä½¿ç”¨ 5000 ä¸ªç‹¬ç«‹çš„ Mesh
{particles.map((p) => <mesh />)}
```

### 2. ç»„ä»¶ä¼˜åŒ–

```typescript
// ä½¿ç”¨ useMemo ç¼“å­˜è®¡ç®—ç»“æœ
const expPercentage = useMemo(() => {
  return (currentExp / maxExp) * 100;
}, [currentExp, maxExp]);

// ä½¿ç”¨ useCallback ç¼“å­˜å‡½æ•°
const handleClick = useCallback(() => {
  console.log('clicked');
}, []);
```

### 3. å›¾ç‰‡ä¼˜åŒ–

```typescript
// ä½¿ç”¨ Next.js Image ç»„ä»¶
import Image from 'next/image';

<Image
  src="/avatar.png"
  width={100}
  height={100}
  alt="Avatar"
  priority // ä¼˜å…ˆåŠ è½½
/>
```

---

## è°ƒè¯•æŠ€å·§

### 1. æŸ¥çœ‹ Zustand çŠ¶æ€

åœ¨æµè§ˆå™¨æ§åˆ¶å°ï¼š

```javascript
// è·å–å½“å‰çŠ¶æ€
window.gameStore = useGameStore.getState();
console.log(window.gameStore);

// è®¢é˜…çŠ¶æ€å˜åŒ–
useGameStore.subscribe((state) => {
  console.log('State changed:', state);
});
```

### 2. React DevTools

å®‰è£… React DevTools æµè§ˆå™¨æ‰©å±•ï¼Œå¯ä»¥ï¼š

- æŸ¥çœ‹ç»„ä»¶æ ‘
- æ£€æŸ¥ Props å’Œ State
- æŸ¥çœ‹æ¸²æŸ“æ€§èƒ½

### 3. Three.js è°ƒè¯•

```typescript
// å¯ç”¨ OrbitControlsï¼ˆç”¨äºè°ƒè¯•ç²’å­ä½ç½®ï¼‰
import { OrbitControls } from '@react-three/drei';

<Canvas>
  <OrbitControls />
  <ParticleSystem />
</Canvas>
```

### 4. æ€§èƒ½åˆ†æ

```bash
# æ„å»ºå¹¶åˆ†æåŒ…å¤§å°
npm run build

# æŸ¥çœ‹è¾“å‡ºæ–‡ä»¶å¤§å°
du -sh .next/static/*
```

---

## å¸¸è§é—®é¢˜

### Q: TypeScript æŠ¥é”™æ‰¾ä¸åˆ°æ¨¡å—ï¼Ÿ

**A:** ç¡®ä¿ `tsconfig.json` ä¸­é…ç½®äº†è·¯å¾„åˆ«åï¼š

```json
{
  "compilerOptions": {
    "paths": {
      "@/*": ["./src/*"]
    }
  }
}
```

### Q: Framer Motion åŠ¨ç”»ä¸ç”Ÿæ•ˆï¼Ÿ

**A:** ç¡®ä¿ç»„ä»¶æ˜¯å®¢æˆ·ç«¯ç»„ä»¶ï¼š

```typescript
'use client'; // æ·»åŠ è¿™ä¸€è¡Œ

import { motion } from 'framer-motion';
```

### Q: ç²’å­èƒŒæ™¯æ€§èƒ½é—®é¢˜ï¼Ÿ

**A:** å‡å°‘ç²’å­æ•°é‡æˆ–é™ä½æ›´æ–°é¢‘ç‡ï¼š

```typescript
<ParticleSystem count={2000} /> // ä» 5000 é™åˆ° 2000
```

---

## Git å·¥ä½œæµ

### æäº¤è§„èŒƒ

```bash
# åŠŸèƒ½å¼€å‘
git commit -m "feat: æ·»åŠ ä¸“æ³¨æ¨¡å¼åŠŸèƒ½"

# Bug ä¿®å¤
git commit -m "fix: ä¿®å¤ä»»åŠ¡åˆ é™¤æ—¶çš„çŠ¶æ€æ›´æ–°é—®é¢˜"

# æ ·å¼è°ƒæ•´
git commit -m "style: ä¼˜åŒ–é›·è¾¾å›¾é¢œè‰²æ¸å˜"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: æ›´æ–° README å®‰è£…è¯´æ˜"
```

### åˆ†æ”¯ç­–ç•¥

```
main (ç”Ÿäº§åˆ†æ”¯)
 â”œâ”€â”€ develop (å¼€å‘åˆ†æ”¯)
 â”‚    â”œâ”€â”€ feature/focus-mode
 â”‚    â”œâ”€â”€ feature/achievements
 â”‚    â””â”€â”€ fix/quest-delete-bug
```

---

## éƒ¨ç½²

### Vercel éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. å®‰è£… Vercel CLI
npm i -g vercel

# 2. ç™»å½•
vercel login

# 3. éƒ¨ç½²
vercel

# 4. ç”Ÿäº§éƒ¨ç½²
vercel --prod
```

### å…¶ä»–å¹³å°

- **Netlify**: æ”¯æŒ Next.js
- **AWS Amplify**: ä¼ä¸šçº§éƒ¨ç½²
- **Railway**: ç®€å•å¿«é€Ÿ

---

## èµ„æºé“¾æ¥

- [Next.js æ–‡æ¡£](https://nextjs.org/docs)
- [Three.js æ–‡æ¡£](https://threejs.org/docs/)
- [Framer Motion æ–‡æ¡£](https://www.framer.com/motion/)
- [Zustand æ–‡æ¡£](https://github.com/pmndrs/zustand)
- [Tailwind CSS æ–‡æ¡£](https://tailwindcss.com/docs)

---

**Happy Coding! ğŸš€**
