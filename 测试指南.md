# 🧪 新功能测试指南

## 测试环境
- 开发服务器：http://localhost:3000
- 浏览器：推荐使用 Chrome/Edge

---

## 📝 测试清单

### ✅ 测试 1：用户引导设置

#### 测试步骤
1. **打开应用**
   - 访问 http://localhost:3000
   - 如果已登录，先退出登录

2. **注册新用户**
   - 点击"点击注册"
   - 输入用户名：`test_user_001`
   - 输入密码：`1234`
   - 确认密码：`1234`
   - 邮箱（可选）：留空或填写
   - 点击"注册"

3. **完成引导设置 - 步骤1：选择身份**
   - 应该自动弹出引导设置模态框
   - 选择一个身份，例如"学生"
   - 或选择"其他"并输入自定义身份
   - 点击"下一步"

4. **完成引导设置 - 步骤2：成长目标**
   - 选择至少一个成长目标，例如"学术提升"、"健康管理"
   - 可以添加自定义目标，例如"学习编程"
   - 点击"下一步"

5. **完成引导设置 - 步骤3：任务强度**
   - 选择任务强度，例如"平衡模式"
   - 点击"完成设置"

6. **验证结果**
   - 应该显示"设置完成！欢迎加入 LifeRPG！"
   - 自动进入主界面

#### 预期结果
- ✅ 引导流程顺畅，无卡顿
- ✅ 每一步都有清晰的说明
- ✅ 表单验证正常（未选择时"下一步"按钮禁用）
- ✅ 动画效果流畅
- ✅ 设置成功后进入主界面

---

### ✅ 测试 2：AI 每日任务建议

#### 前置条件
- 已完成用户引导设置
- 已登录系统

#### 测试步骤
1. **打开 AI 任务建议**
   - 在仪表盘页面找到"✨ AI建议"按钮
   - 点击按钮

2. **等待 AI 生成**
   - 应该显示加载动画："AI 正在为你生成任务建议..."
   - 等待 5-10 秒

3. **查看任务建议**
   - 检查生成的任务数量（应该是 3-8 个）
   - 查看每个任务的详细信息：
     - 标题和描述
     - 任务类型标签（主线/支线/日常）
     - 关联属性（智力/活力/管理/创造）
     - 预估时长
     - 优先级
     - 推荐理由

4. **选择任务**
   - 默认应该全选
   - 尝试取消选择某些任务
   - 再次选择

5. **添加任务**
   - 点击"添加到任务列表"按钮
   - 应该显示成功提示
   - 模态框关闭

6. **验证任务已添加**
   - 在"今日任务"列表中查看
   - 确认任务已成功添加

7. **重新生成**
   - 再次点击"✨ AI建议"按钮
   - 点击右上角的刷新按钮
   - 验证可以重新生成新的建议

#### 预期结果
- ✅ AI 建议按钮显示正常
- ✅ 加载状态清晰
- ✅ 生成的任务符合用户设置的身份和目标
- ✅ 任务信息完整且合理
- ✅ 选择和添加功能正常
- ✅ 重新生成功能正常

#### 可能的错误情况
- ❌ **API 调用失败**：显示错误提示，提供重试按钮
- ❌ **未完成引导**：提示"请先完成用户引导设置"
- ❌ **网络问题**：显示网络错误提示

---

### ✅ 测试 3：AI 智能奖励设定

#### 测试步骤
1. **创建新任务**
   - 点击"+ 新建任务"按钮
   - 或在任务列表中点击"+"

2. **填写任务信息**
   - 任务标题：`完成数据结构作业`
   - 任务描述：`完成第三章的练习题，包括链表和树的实现`
   - 任务类型：选择"主线任务"
   - 关联属性：选择"智力"

3. **使用 AI 智能设定**
   - 找到"任务奖励"部分
   - 点击"✨ AI 智能设定"按钮
   - 等待 AI 计算（3-5秒）

4. **查看 AI 设定的奖励**
   - 应该自动填充经验奖励和金币奖励
   - 弹出提示框显示 AI 的推理过程
   - 例如："这是一个主线任务，涉及学术学习，需要较长时间和高度专注，因此给予较高的经验值奖励。"

5. **手动调整（可选）**
   - 可以手动修改 AI 设定的奖励值
   - 验证输入框仍然可用

6. **创建任务**
   - 点击"创建"按钮
   - 验证任务创建成功

#### 预期结果
- ✅ AI 智能设定按钮显示正常
- ✅ 未填写标题时按钮禁用
- ✅ 加载状态清晰（显示"AI 计算中..."）
- ✅ 奖励值合理（符合任务类型的范围）
- ✅ 显示 AI 的推理过程
- ✅ 可以手动调整奖励值

#### 测试不同任务类型
- **主线任务**：应该给 50-100 EXP
- **支线任务**：应该给 20-50 EXP
- **日常任务**：应该给 10-20 EXP

---

## 🔍 边界情况测试

### 测试 4：错误处理

#### 场景 1：网络断开
1. 断开网络连接
2. 尝试使用 AI 功能
3. 应该显示友好的错误提示
4. 提供重试按钮

#### 场景 2：API 密钥无效
1. 在设置中修改 API 密钥为无效值
2. 尝试使用 AI 功能
3. 应该显示 API 错误提示

#### 场景 3：未完成引导
1. 注册新用户但跳过引导（如果可能）
2. 尝试使用 AI 任务建议
3. 应该提示"请先完成用户引导设置"

---

## 🎨 UI/UX 测试

### 测试 5：响应式设计
- [ ] 在不同屏幕尺寸下测试（桌面、平板、手机）
- [ ] 模态框在小屏幕上应该可滚动
- [ ] 按钮和文字大小合适

### 测试 6：主题切换
- [ ] 切换到亮色主题
- [ ] 验证所有新组件的颜色正常
- [ ] 切换回暗色主题

### 测试 7：动画效果
- [ ] 引导设置的步骤切换动画
- [ ] 任务建议的加载动画
- [ ] 按钮的悬停和点击效果

---

## 📊 性能测试

### 测试 8：加载速度
- [ ] 首次打开引导设置的速度
- [ ] AI 生成任务的响应时间
- [ ] 大量任务时的渲染性能

---

## 🐛 已知问题记录

### 问题 1：[描述]
- **重现步骤**：
- **预期行为**：
- **实际行为**：
- **严重程度**：低/中/高
- **状态**：待修复/已修复

---

## ✅ 测试完成检查表

- [ ] 用户引导设置流程完整
- [ ] AI 任务建议功能正常
- [ ] AI 智能奖励设定功能正常
- [ ] 错误处理机制完善
- [ ] UI/UX 体验良好
- [ ] 响应式设计正常
- [ ] 性能表现良好
- [ ] 无严重 Bug

---

## 📝 测试报告模板

```markdown
## 测试报告

**测试日期**：2026-01-22
**测试人员**：[姓名]
**测试环境**：
- 浏览器：Chrome 120
- 操作系统：Windows 11
- 屏幕分辨率：1920x1080

**测试结果**：
- ✅ 通过的测试：[数量]
- ❌ 失败的测试：[数量]
- ⚠️ 需要改进：[数量]

**详细问题**：
1. [问题描述]
2. [问题描述]

**建议**：
1. [改进建议]
2. [改进建议]
```

---

## 🎯 快速测试命令

```bash
# 启动开发服务器
npm run dev

# 构建生产版本
npm run build

# 启动生产服务器
npm start

# 运行测试（如果有）
npm test
```

---

**祝测试顺利！如有问题请及时记录。** 🚀
